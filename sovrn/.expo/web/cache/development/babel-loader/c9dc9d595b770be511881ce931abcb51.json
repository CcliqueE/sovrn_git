{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { RNS3 } from 'react-native-aws3';\nimport * as ImagePicker from 'expo-image-picker';\nimport { Video } from 'expo-av';\nimport * as MediaLibrary from 'expo-media-library';\n\nvar arrow = require(\"../assets/img/arrow-up.png\");\n\nvar x_button = require(\"../assets/img/x-button.png\");\n\nvar window = Dimensions.get('window');\n\nvar Library = function Library(_ref) {\n  var item = _ref.item;\n  return React.createElement(View, null, React.createElement(Image, {\n    source: {\n      uri: item\n    },\n    style: styles.media\n  }));\n};\n\nexport default function CreatePost(_ref2) {\n  var navigation = _ref2.navigation,\n      route = _ref2.route;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      media = _useState2[0],\n      setMedia = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var location = route.params.location;\n\n  var goBack = function goBack() {\n    navigation.navigate(location);\n  };\n\n  var media_grid = function media_grid(_ref3) {\n    var item = _ref3.item;\n    return React.createElement(Library, {\n      item: item.src\n    });\n  };\n\n  var pickMedia = function pickMedia() {\n    var _await$MediaLibrary$g, status, media, media_arr, i;\n\n    return _regeneratorRuntime.async(function pickMedia$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(MediaLibrary.getPermissionsAsync());\n\n          case 2:\n            _await$MediaLibrary$g = _context.sent;\n            status = _await$MediaLibrary$g.status;\n\n            if (status !== 'granted') {\n              alert('Camera Roll Permissions Needed.');\n            }\n\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(MediaLibrary.getAssetsAsync());\n\n          case 7:\n            media = _context.sent;\n            media_arr = [];\n\n            for (i = 0; i < media.assets.length; i++) {\n              media_arr.push({\n                id: i + 1,\n                src: media.assets[i].uri\n              });\n            }\n\n            if (!media.cancelled) {\n              setMedia(media_arr);\n              setShow(true);\n            }\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var closeMedia = function closeMedia() {\n    setMedia([]);\n    setShow(false);\n  };\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(Pressable, {\n    onPress: goBack,\n    style: styles.x_button_container\n  }, React.createElement(Image, {\n    source: x_button,\n    style: styles.x_button\n  })), React.createElement(View, {\n    style: styles.btn_container\n  }, React.createElement(Pressable, {\n    style: styles.open_library,\n    onPress: pickMedia\n  }, React.createElement(Text, null, \"Open Library\")), React.createElement(Pressable, {\n    style: styles.close_library,\n    onPress: closeMedia\n  }, React.createElement(Text, null, \"Close Library\"))), show === true ? React.createElement(SafeAreaView, {\n    style: styles.media_scroll\n  }, React.createElement(View, {\n    style: styles.arrow_up\n  }, React.createElement(Image, {\n    style: styles.arrow,\n    source: arrow\n  })), React.createElement(FlatList, {\n    numColumns: 5,\n    data: media,\n    renderItem: media_grid,\n    columnWrapperStyle: styles.media_container\n  })) : React.createElement(View, null));\n}\nvar styles = StyleSheet.create({\n  container: {\n    height: '100%',\n    backgroundColor: '#616161'\n  },\n  x_button_container: {\n    width: 50,\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    top: 45,\n    left: 20\n  },\n  x_button: {\n    width: 30,\n    height: 30\n  },\n  btn_container: {\n    top: 20\n  },\n  open_library: {\n    position: 'absolute',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'gray',\n    top: 40,\n    borderRadius: 10,\n    width: 150,\n    height: 50\n  },\n  close_library: {\n    position: 'absolute',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'gray',\n    top: 40,\n    borderRadius: 10,\n    left: window.width - 150,\n    width: 150,\n    height: 50\n  },\n  arrow_up: {\n    position: 'absolute',\n    backgroundColor: 'black',\n    width: '100%',\n    height: 50,\n    bottom: window.height / 3 - 5,\n    borderTopLeftRadius: 15,\n    borderTopRightRadius: 15,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  arrow: {\n    height: 20,\n    width: 33\n  },\n  media_scroll: {\n    position: 'absolute',\n    height: window.height / 3,\n    top: window.height - window.height / 3,\n    backgroundColor: 'black'\n  },\n  media: {\n    width: window.width / 5,\n    height: 130\n  }\n});","map":{"version":3,"sources":["/Users/schafferluke/Documents/projects/T_T/sovrn/screens/createPost.js"],"names":["React","useState","RNS3","ImagePicker","Video","MediaLibrary","arrow","require","x_button","window","Dimensions","get","Library","item","uri","styles","media","CreatePost","navigation","route","setMedia","show","setShow","location","params","goBack","navigate","media_grid","src","pickMedia","getPermissionsAsync","status","alert","getAssetsAsync","media_arr","i","assets","length","push","id","cancelled","closeMedia","container","x_button_container","btn_container","open_library","close_library","media_scroll","arrow_up","media_container","StyleSheet","create","height","backgroundColor","width","justifyContent","alignItems","top","left","position","borderRadius","bottom","borderTopLeftRadius","borderTopRightRadius"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Pressable, StyleSheet, Text, View, Image, ScrollView, FlatList, SafeAreaView, Dimensions } from 'react-native';\nimport {RNS3} from 'react-native-aws3'\nimport * as ImagePicker from 'expo-image-picker';\nimport { Video } from 'expo-av'\nimport * as MediaLibrary from 'expo-media-library'\n\nconst arrow = require('../assets/img/arrow-up.png')\nconst x_button = require('../assets/img/x-button.png')\n\nconst window = Dimensions.get('window')\n\nconst Library = ({ item }) => (\n\t<View >\n\t\t<Image \n\t\tsource={{ uri: item }}\n\t\tstyle={styles.media}/>\n\t</View>\n)\n\nexport default function CreatePost({ navigation, route }) {\n\t\n    const [media, setMedia] = useState([])\n\tconst [show, setShow] = useState(false)\n\tconst location = route.params.location\n\n\tconst goBack = () => {\n\t\tnavigation.navigate(location)\n\t}\n\n\tconst media_grid = ({ item }) => {\n\t\treturn (<Library item={item.src}/>)\n\t}\n\n\tconst pickMedia = async () => {\n\n\t\t\tconst { status } = await MediaLibrary.getPermissionsAsync()\n\t\t\tif (status !== 'granted') {\n\t\t\t\talert('Camera Roll Permissions Needed.')\n\t\t\t}\n\n\t\t\tlet media = await MediaLibrary.getAssetsAsync()\n\n\t\t\tconst media_arr = []\n\n\t\t\tfor (let i = 0; i < media.assets.length; i++) {\n\t\t\t\tmedia_arr.push({\n\t\t\t\t\tid: i + 1,\n\t\t\t\t\tsrc: media.assets[i].uri\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (!media.cancelled) {\n\t\t\t\tsetMedia(media_arr)\n\t\t\t\tsetShow(true)\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t}\n\t\n\tconst closeMedia = () => {\n\t\tsetMedia([])\n\t\tsetShow(false)\n\t}\n\n    return (\n        <View style={styles.container} >\n\t\t\t<Pressable onPress={goBack} style={styles.x_button_container} >\n\t\t\t\t<Image source={x_button} style={styles.x_button} />\n\t\t\t</Pressable>\n\t\t\t<View style={styles.btn_container} >\n\t\t\t\t<Pressable style={styles.open_library} onPress={pickMedia}>\n\t\t\t\t\t<Text>Open Library</Text>\n\t\t\t\t\t\n\t\t\t\t</Pressable>\n\t\t\t\t<Pressable style={styles.close_library} onPress={closeMedia} >\n\t\t\t\t\t<Text>Close Library</Text>\n\t\t\t\t</Pressable>\n\t\t\t</View>\n\t\t\t{show === true ? \n\t\t\t\t<SafeAreaView style={styles.media_scroll} >\n\t\t\t\t\t<View style={styles.arrow_up}>\n\t\t\t\t\t\t<Image style={styles.arrow} source={arrow} />\n\t\t\t\t\t</View>\n\t\t\t\t\t<FlatList \n\t\t\t\t\tnumColumns={5}\n\t\t\t\t\tdata={media}\n\t\t\t\t\trenderItem={media_grid}\n\t\t\t\t\tcolumnWrapperStyle={styles.media_container}\n\t\t\t\t\t/>\n\t\t\t\t</SafeAreaView>\n\t\t\t: <View/>}\n\t\t</View>\n    )\n}\n\n\n\nconst styles = StyleSheet.create({\n    container: {\n\t\theight: '100%',\n\t\t// alignItems: 'center',\n\t\t// justifyContent: 'center',\n\t\t// flexDirection: 'row',\n\t\tbackgroundColor: '#616161'\n\t},\n\tx_button_container: {\n\t\t// position: 'absolute',\n\t\t// backgroundColor: 'black',\n\t\twidth: 50,\n\t\theight: 50,\n\t\t// position: 'absolute',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\ttop: 45,\n\t\tleft: 20,\n\t},\n\tx_button: {\n\t\twidth: 30,\n\t\theight: 30,\n\t},\n\tbtn_container: {\n\t\ttop: 20\n\t},\n\topen_library: {\n\t\tposition: 'absolute',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tbackgroundColor: 'gray',\n\t\ttop: 40,\n\t\tborderRadius: 10,\n\t\twidth: 150,\n\t\theight: 50\n    },\n\tclose_library: {\n\t\tposition: 'absolute',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tbackgroundColor: 'gray',\n\t\ttop: 40,\n\t\tborderRadius: 10,\n\t\tleft: window.width - 150,\n\t\twidth: 150,\n\t\theight: 50\n\t},\n\tarrow_up: {\n\t\tposition: 'absolute',\n\t\tbackgroundColor: 'black',\n\t\twidth: '100%',\n\t\theight: 50,\n\t\tbottom: (window.height / 3)- 5,\n\t\tborderTopLeftRadius: 15,\n\t\tborderTopRightRadius: 15,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center'\n\t},\n\tarrow: {\n\t\theight: 20,\n\t\twidth: 33\n\t},\n\tmedia_scroll: {\n\t\tposition: 'absolute',\n\t\theight: window.height / 3,\n\t\ttop: window.height - (window.height / 3),\n\t\tbackgroundColor: 'black',\n\t\t\n\t},\n\tmedia: {\n\t\twidth: window.width / 5,\n\t\theight: 130,\n\t}\n})"]},"metadata":{},"sourceType":"module"}